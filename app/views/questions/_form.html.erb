<div class="form">
  <%= form_with(model: question, url: url) do |form| %>
    <%= render partial: 'shared/form_errors', locals: { model_object: question } %>
    
    <div class="field">
      <%= form.label :title, 'Title' %>
      <%= form.text_area :title %>
    </div>

    <div class="field">
      <%= form.label :content, 'Content' %>
      <%= form.rich_text_area :content %>
    </div>

    <div class="upload-button">
      <%= form.label :attachment, 'Attach PDF file' %>
      <%= form.file_field :attachment, accept: 'application/pdf' %>

      <div class="uploaded-file">
        <% if question.attachment.signed_id && question.persisted? %>
          <div>File attached: <%= filename_from_file(question.attachment) %></div>
          <%= render_filelink_if_exists(question.attachment) %>
        <% end %>
      </div>
    </div>

    <div>
      <%= check_box_tag :draft %>
      <%= label_tag :draft, 'Save as Draft?' %>
    </div>

    <div class="submit-field">
      <%= form.submit submit_button_text %>
    </div>
  <% end %>
</div>
